var GameDataShiShi=GameDataShiShi||{};function shishi_registAllMessage(){GameNet.getInstance().setCallBack("initYoujin",function(a){WriteLog("do event initYoujin "+JSON.stringify(a)),GameData.cards[a.uid].youNum=a.youNum,GameData.cards[a.uid].youRound=a.youRound}),GameNet.getInstance().setCallBack("onYoujin",function(a){if(WriteLog("do event onYoujin "+JSON.stringify(a)),GameData.cards[a.uid].youNum=a.youNum,GameData.cards[a.uid].youRound=a.youRound,!a.zimo&&0<a.youNum){if(a.uid==GameData.player.uid){var e=GameData.cards[a.uid].hand;e[GameData.game.lastdisCard]=void 0===e[GameData.game.lastdisCard]?1:e[GameData.game.lastdisCard]+1,GameData.game.obtain=GameData.game.lastdisCard}0<GameData.game.lastdisUid&&GameData.removeDisCard(GameData.game.lastdisUid),GameData.game.turn=a.uid,GameData.game.lastdisUid=0,GameData.game.lastdisCard=0,GameData.cards[a.uid].handnum++,sendEvent("onGameTurn",a.uid)}sendEvent("onYoujin",a)}),GameNet.getInstance().setCallBack("allYoujinInfo",function(a){WriteLog("sercerMsg  allYoujinInfo :"+JSON.stringify(a));for(var e=0;e<a.data.length;e++)GameData.cards[a.data[e].uid].youNum=a.data[e].youNum,GameData.allYouJinInfo[e]=a.data[e];sendEvent("allYoujinInfo",a)}),GameNet.getInstance().setCallBack("startWater",function(a){WriteLog("sercerMsg  startWater :"+JSON.stringify(a.data)),GameDataShiShi.setWater=a.data,sendEvent("startWater")})}GameDataShiShi.init=function(){GameDataShiShi.initGameData(),GameDataShiShi.initCreateRoomOpts(),GameDataShiShi.autoLogin=!1,shishi_registAllMessage()},GameDataShiShi.initGameData=function(){GameDataShiShi.setWater=1,console.log("call initGameData shishi")},GameDataShiShi.initCreateRoomOpts=function(){var a=cc.sys.localStorage.getItem("createRoomOptsShiShi");null==a?(GameDataShiShi.createRoomOpts={},GameDataShiShi.createRoomOpts.joinermax=4,GameDataShiShi.createRoomOpts.scoreBase=0,GameDataShiShi.createRoomOpts.fengtou=!0,GameDataShiShi.createRoomOpts.shuangjin=!0,GameDataShiShi.createRoomOpts.chashui=!0,GameDataShiShi.createRoomOpts.qg_zimo=!1,GameDataShiShi.createRoomOpts.qg_pinghu=!1,GameDataShiShi.createRoomOpts.roundRule=2,GameDataShiShi.createRoomOpts.huierDiao=!0,GameDataShiShi.createRoomOpts.daZi=!1,GameDataShiShi.createRoomOpts.daiFeng=!0,GameDataShiShi.createRoomOpts.daiChan=!0,GameDataShiShi.createRoomOpts.jGangScore=4,GameDataShiShi.createRoomOpts.laType=1,GameDataShiShi.createRoomOpts.payType=1,GameDataShiShi.createRoomOpts.roundRule_club=2,GameDataShiShi.createRoomOpts.huierDiao_club=!0,GameDataShiShi.createRoomOpts.daZi_club=!1,GameDataShiShi.createRoomOpts.daiFeng_club=!0,GameDataShiShi.createRoomOpts.daiChan_club=!0,GameDataShiShi.createRoomOpts.jGangScore_club=4,GameDataShiShi.createRoomOpts.laType_club=1,GameDataShiShi.createRoomOpts.youJin=YoujinType.Ming,GameDataShiShi.createRoomOpts.payType_club=1,GameDataShiShi.createRoomOpts.dianpao=2):GameDataShiShi.createRoomOpts=JSON.parse(a)},GameDataShiShi.saveCreateRoomOpts=function(){null!=GameDataShiShi.createRoomOpts&&null!=GameDataShiShi.createRoomOpts&&(cc.log("saveCreateRoomOptsShiShi="+JSON.stringify(GameDataShiShi.createRoomOpts)),cc.sys.localStorage.setItem("createRoomOptsShiShi",JSON.stringify(GameDataShiShi.createRoomOpts)))};