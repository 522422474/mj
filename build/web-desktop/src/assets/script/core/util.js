function registEvent(e,t,n){cc.game.on(e,n,t)}function unregistEvent(e,t,n){cc.game.off(e,n,t)}function sendEvent(e,t){t instanceof Object?console.log("sendEvent "+e+":"+JSON.stringify(t)):console.log("sendEvent "+e+":"+t),cc.game.emit(e,t)}function isIllegal(e){return"undefined"==e||null==e}function getRandomString(e){return"guest"+(new Date).getTime()}function stringEndWith(e,t){return new RegExp(t+"$").test(e)}function getRandomInt(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.random();return n=(t-e)*n+e,Math.round(n)}function createUIPrefab(e,a,r,o){cc.loader.loadRes(e,function(e,t){null==a&&(a=cc.director.getScene().getChildByName("Canvas"));var n=cc.instantiate(t);r&&r.x&&r.y&&n.setPosition(r),a.addChild(n),o&&o(n)})}function createUIPrefabArray(e,r,o){if(!(null==e||e.length<=0)){cc.loader.loadResArray(e,function(e,t){null==r&&(r=cc.director.getScene().getChildByName("Canvas"));for(var n=0;n<t.length;n++)if(null!=t[n]){var a=cc.instantiate(t[n]);r.addChild(a),cc.log("..nodeName:"+a.name)}o&&o(a)})}}function createMessageBox(r,o,c,i){cc.loader.loadRes("prefab/MessageBox",function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t);a.getComponent("messagebox").setContent(r),a.getComponent("messagebox").setArtwordSp(i),a.getComponent("messagebox").setOkFunc(o),null!=c?a.getComponent("messagebox").setCancelFunc(c):a.getComponent("messagebox").setCancelFunc(null),a.getComponent("messagebox").updateBtnPos(null!=c),a.setPosition(cc.p(n.width/2,n.height/2)),cc.director.getScene().addChild(a)})}function commondMessageBox(r,o,c){cc.loader.loadRes("prefab/CommondBox",function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t);a.getComponent("messagebox").setContent(r),a.getComponent("messagebox").setOkFunc(o),null!=c?a.getComponent("messagebox").setCancelFunc(c):a.getComponent("messagebox").setCancelFunc(null),a.setPosition(cc.p(n.width/2,n.height/2)),cc.director.getScene().addChild(a)})}function createMoveMessage(o,c){cc.loader.loadRes("prefab/MoveMessage",function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t),r=a.getComponent("MoveMessage");r&&r.setContent(o,c),a.setPosition(cc.p(n.width/2,n.height/2)),cc.director.getScene().addChild(a)})}function niuniuCreateMoveMessage(r){cc.loader.loadRes("prefab/niuNiu/niuniuMoveMessage",function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t);a.setPosition(cc.p(n.width/2,2*n.height/7)),cc.find("Label",a).getComponent(cc.Label).string=r+"",cc.director.getScene().addChild(a)})}function poker13MessageBox(a,r,o,c,i){cc.loader.loadRes("shisanshui/prefab/poker13MessageBox",function(e,t){cc.director.getWinSize();var n=cc.instantiate(t);n.getComponent("messagebox").setContent(a),n.getComponent("messagebox").setName(r),n.getComponent("messagebox").setContent2(o),n.getComponent("messagebox").setStringVisbile(),n.getComponent("messagebox").setOkFunc(c),null!=i?n.getComponent("messagebox").setCancelFunc(i):n.getComponent("messagebox").setCancelFunc(null),n.getComponent("messagebox").update13BtnPos(null!=i),n.setPosition(cc.p(0,0)),cc.director.getScene().getChildByName("Canvas").addChild(n)})}function poker13createPlayerInfoPanel(a){cc.loader.loadRes("shisanshui/prefab/poker13PlayerInfoTemplate",function(e,t){cc.director.getWinSize();var n=cc.instantiate(t);n.getComponent("playerInfoTemplate").onShow(a),n.setPosition(cc.p(0,0)),cc.director.getScene().getChildByName("Canvas").addChild(n)})}function createSSSMoveMessage(a){cc.loader.loadRes("prefab/MoveMessage",function(e,t){cc.director.getWinSize();var n=cc.instantiate(t);n.setPosition(cc.p(0,0)),n.getComponent("MoveMessage").isSSS=!0,cc.find("Label",n).getComponent(cc.Label).string=a+"",cc.director.getScene().getChildByName("Canvas").addChild(n)})}function NiuNiuMessageBox(r,o,c){cc.loader.loadRes("prefab/niuNiu/NiuNIuMessageBox",function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t);a.getComponent("messagebox").setContent(r),a.getComponent("messagebox").setOkFunc(o),null!=c?a.getComponent("messagebox").setCancelFunc(c):a.getComponent("messagebox").setCancelFunc(null),a.getComponent("messagebox").updateBtnPos(null!=c),a.setPosition(cc.p(n.width/2,n.height/2)),cc.director.getScene().addChild(a)})}function messageBoxWithoutCB(e){createMessageBox(e,function(){})}function createPlayerInfoPanel(r){var e=cc.director.getScene().name,t="prefab/PlayerInfoTemplate";"table-niuNiu"!=e&&"table-TDK"!=e&&"table-ZJH"!=e||(t="prefab/niuNiu/niuNiuPlayerInfoTemplate"),cc.loader.loadRes(t,function(e,t){var n=cc.director.getWinSize(),a=cc.instantiate(t);a.getComponent("playerInfoTemplate").onShow(r),a.setPosition(cc.p(n.width/2,n.height/2)),cc.director.getScene().addChild(a)})}function WriteLog(e){cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","writelog","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","writelog:",String(e)):cc.log(e):cc.log(e)}function SaveLog(){jsb.fileUtils.isDirectoryExist("/sdcard/com.mahjong.tianjin/log/")||jsb.fileUtils.createDirectory("/sdcard/com.mahjong.tianjin/log/"),jsb.fileUtils.writeStringToFile(GameData.log,"/sdcard/com.mahjong.tianjin/log/gamelog.log")}function wxShareText(e){try{cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","wxsharetext","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","wxsharetext:",String(e))}catch(e){WriteLog("wxShareText error "+test)}}function wxShareTexture(t){try{cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","wxsharetexture","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","wxsharetexture:",String(t))}catch(e){WriteLog("wxShareTexture error "+t)}}function wxShareWeb(t,n){try{var a=require("configMgr").getWXShareUrl();WriteLog("url = "+a),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","wxshareweb","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",a,t,n):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","wxshareweb:andTitle:andText:",String(a),String(t),String(n))}catch(e){WriteLog("wxShareWeb error   "+a+"  "+t+"  "+n)}}function wxShareTimeline(t,n){try{var a=require("configMgr").getWXShareUrl();cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","wxsharetimeline","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",a,t,n):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","wxsharetimeline:andTitle:andText:",a,t,n)}catch(e){WriteLog("wxShareWeb error   "+a+"  "+t+"  "+n)}}function screenShoot(e){if(cc.sys.isNative){var t=jsb.fileUtils.getWritablePath()+"ScreenShoot/";jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t);var n="ScreenShoot/wx_share.jpg",a=cc.director.getWinSize(),r=new cc.RenderTexture(a.width,a.height);r.setPosition(cc.p(a.width/2,a.height/2)),r.begin(),cc.director.getRunningScene().visit(),r.end(),r.saveToFile(n,cc.ImageFormat.JPG,!0,function(){WriteLog("save success! path = "+t),e&&e(jsb.fileUtils.getWritablePath()+n)})}}function screenPartShoot(e,t){if(cc.sys.isNative&&null!=e){var n=jsb.fileUtils.getWritablePath()+"ScreenShoot/";jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n);var a="ScreenShoot/wx_share.jpg",r=new cc.RenderTexture(e.width,e.height);e.active=!0,r.begin(),cc.director.getRunningScene().visit(),r.end(),r.saveToFile(a,cc.ImageFormat.JPG,!0,function(){WriteLog("save success! path = "+n),e.active=!1,t&&t(jsb.fileUtils.getWritablePath()+a)})}}function getShortStr(e,t){var n=e;return e.length>t&&(n=e.substr(0,t)+"..."),n}function cutstr(e,t){var n,a=0,r=new String;n=e.length;for(var o=0;o<n;o++){var c=e.charAt(o);if(a++,4<escape(c).length&&a++,r=r.concat(c),t<=a)return r=r.concat("...")}if(a<t)return e}function isChinese(e){return!!/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.exec(e)}function emoji2Str(e){return unescape(escape(e).replace(/\%uD.{3}/g,""))}function contains(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function textClipboard(e){if(cc.sys.os==cc.sys.OS_ANDROID)jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","textClipboard","(Ljava/lang/String;)I",e);else cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","textClipboard:",String(e))}function getTextClipboard(){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","getClipboardText","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","getClipboardText"):void 0}function formatSeconds(e,t){var n=parseInt(e),a=0,r=0;if(60<n&&(a=parseInt(n/60),n=parseInt(n%60),60<a&&(r=parseInt(a/60),a=parseInt(a%60))),1==t){var o="",c=1==n.toString().length?"0"+parseInt(n):parseInt(n),i=1==a.toString().length?"0"+parseInt(a):parseInt(a);o=(1==r.toString().length?"0"+parseInt(r):parseInt(r))+":"+i+":"+c}else{o=parseInt(n)+"秒";0<a&&(o=parseInt(a)+"分"+o),0<r&&(o=parseInt(r)+"小时"+o)}return o}function getDate(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),o=t.getHours(),c=t.getMinutes(),i=t.getSeconds();return n+"/"+(a=1==a.toString().length?"0"+a:a)+"/"+(r=1==r.toString().length?"0"+r:r)+" "+(o=1==o.toString().length?"0"+o:o)+":"+(c=1==c.toString().length?"0"+c:c)+":"+(i=1==i.toString().length?"0"+i:i)}function getTimeStr(e){var t=(e=new Date(e)).getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),c=e.getSeconds();return[t,n=1==n.toString().length?"0"+n:n,a=1==a.toString().length?"0"+a:a,r=1==r.toString().length?"0"+r:r,o=1==o.toString().length?"0"+o:o,c=1==c.toString().length?"0"+c:c]}var cdLastTime=0;function inCD(e){return!((new Date).getTime()-cdLastTime>e)||(cdLastTime=(new Date).getTime(),!1)}function loginYunwa(e,t){console.log("yun wa login"),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","loginYunwa","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","loginYunwa:andNickname:",String(e),String(t))}function yunwaStartTalk(){console.log("yunwaStartTalk..................."),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","startRecord","()V"):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","startRecord")}function yunwaStopTalk(){console.log("yunwaStopTalk..................."),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","stopRecord","()V"):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","stopRecord")}function yunwaLogout(){console.log("yunwaLogout..................."),cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","logOut","()V"):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","logOutYunWa")}function nativePower(e){sendEvent("nativePower",e)}function startLocation(){try{cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","startLocation","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","startLocation:")}catch(e){WriteLog("startLocation throw: "+JSON.stringify(e))}}function getLatitudePos(){try{return cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","getLatitudePos","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os?String(jsb.reflection.callStaticMethod("AppController","getLatitudePos")):"0"}catch(e){return WriteLog("getLatitudePos throw: "+JSON.stringify(e)),"0"}}function getLongitudePos(){try{return cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","getLongitudePos","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os?String(jsb.reflection.callStaticMethod("AppController","getLongitudePos")):"0"}catch(e){return WriteLog("getLongitudePos throw: "+JSON.stringify(e)),"0"}}function getPosInfo(){return{latPos:getLatitudePos(),longPos:getLongitudePos()}}function getDistance(e,t,n,a){if(0==e||0==t||0==n||0==a)return 0;try{if(cc.sys.OS_ANDROID==cc.sys.os){var r=jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","getDistance","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",String(e),String(t),String(n),String(a));return parseFloat(r).toFixed(1)}if(cc.sys.OS_IOS==cc.sys.os){r=jsb.reflection.callStaticMethod("AppController","getDistance:lon1:lat2:lon2:",String(e),String(t),String(n),String(a));return parseFloat(r).toFixed(1)}return 0}catch(e){return WriteLog("getDistance throw: "+JSON.stringify(e)),0}}function getRuleStrNiuNiu(e){var t=require("gameDefine");if(null==e||0==Object.keys(e).length||null==t)return"";var n="2-"+e.joinermax+"人,明牌抢庄,";switch(n+="付费方式:",e.costType){case t.CostType.Cost_Creator:n+="房主付费,";break;case t.CostType.Cost_AA:n+="AA付费,";break;case t.CostType.Cost_Winner:n+="赢家付费,";break;case t.CostType.Cost_Agent:n+="代理付费,"}return n+=e.roundMax+"局,",n+="底分 *"+e.scoreBase}function getRuleStrTDK(e){if(!e||0==Object.keys(e).length)return"";var t=e.roundMax+"局,",n="";1===e.cardType?n+="9起,":2===e.cardType&&(n+="10起,");var a="";e.king?a+="带王,":a+="不带王,";var r="";e.nextDouble?r+="烂锅翻倍,":r+="烂锅不翻倍,";var o="";0===e.allin?o+="不带全压,":30===e.allin?o+="全压30倍,":60===e.allin&&(o+="全压60倍,");var c=t+n+a+r+o;return console.log("des = "+c),c}function getRuleStrShiShi(e){if(!e||0==Object.keys(e).length)return"";var t="";return t+=this.checkCostType(e),e.roundRule&&(1==e.roundRule?t+="4局":2==e.roundRule?t+="8局":3==e.roundRule&&(t+="16局")),e.joinermax&&(t+=",人数"+e.joinermax),4==e.roundRule||5==e.roundRule?1==e.dianpao?t+="点炮单赔":t+="点炮通赔":1==e.dianpao?t+=",点炮单赔":t+=",点炮通赔",0!=e.scoreBase&&(t+=",一课:"+e.scoreBase+"分"),e.youJin<10?t+=",暗游:"+e.youJin+"游":10==e.youJin&&(t+=",明游",e.qg_zimo&&(t+=",抢杠自摸"),e.qg_pinghu&&(t+=",抢杠平胡")),e.fengtou&&(t+=",风头跟打"),e.water&&(t+=",插水"),e.shuangjin&&(t+=",双金不平胡"),WriteLog("playStr = "+t),t}function getRuleStr13(e){if(!e||0==Object.keys(e).length)return"";var t="";return e.roundRule&&(1==e.roundRule?t+="15局":2==e.roundRule?t+="30局":3==e.roundRule?t+="45局":1==e.roundRule?t+="60局":1==e.roundRule&&(t+="75局")),e.joinermax&&(t+=",人数"+e.joinermax),e.costType&&(1==e.costType?t+=",房主付费":2==e.costType&&(t+=",AA付费")),0==e.limitTime?t+=",时间无限":30==e.limitTime?t+=","+e.limiteTime+"秒":60==e.limitTime?t+=",1分":300==e.limitTime&&(t+=",5分"),t}function getRuleStrTJDDZ(e){if(!e||0==Object.keys(e).length)return"";var t="";return t+=this.checkCostType(e),1==e.jiaofenType?t+="赢家叫分,":2==e.jiaofenType&&(t+="轮庄叫分,"),1==e.mud&&(t+="带泥儿,"),1==e.kicking&&(t+="带踢踹,"),t+="局数:"+e.roundMax+",",t+="封顶:"+(15==e.fanshu?"无限番":e.fanshu)}function getRuleStrPDK(e){if(!e||0==Object.keys(e).length)return"";var t="";return t+=this.checkCostType(e),t+="局数:"+e.roundMax+",",t+="人数:"+e.joinermax,1==e.passFlag?t+="必须管,":2==e.passFlag&&(t+="可不要,"),1==e.zhuangType&&(t+="红桃3先出,"),t}function getRuleStrDDZ(e){if(!e||0==Object.keys(e).length)return"";var t="",n=require("gameDefine");if(e.roomType==n.roomType.Room_Match){0==e.scorelv?t+="初级场":1==e.scorelv?t+="中级场":2==e.scorelv&&(t+="高级场"),t+="\n",t+=" 台费:"+getMatchCostTableFinal(e.gameType,e.scorelv)}else{t+=this.checkCostType(e);t+=["赢家叫分,","轮庄叫分,","霸王叫分,"][e.jiaofenType-1],1==e.suppress&&(t+="憋三家,"),1==e.kicking&&(t+="带踢踹,"),1==e.fourFlag&&(t+="四带2对,"),1==e.fullMark&&(t+="两王或4个2叫满,"),t+="押底:",t+=["不押,","1分,","2分,","3分,"][e.detain],t+="局数:"+e.roundMax+",",t+="封顶:"+(15==e.fanshu?"无限番":e.fanshu)}return t}function getRuleStrZJH(e){if(!e||0==Object.keys(e).length)return"";var t="";switch(0==e.chipsType?t+="底分1,":1==e.chipsType&&(t+="底分5,"),e.canNotLookTurnNum){case 0:t+="无必闷,";break;case 1:t+="闷一轮,";break;case 2:t+="闷两轮,";break;case 3:t+="闷三轮,"}switch(e.maxTunNum){case 5:t+="封顶轮数5,";break;case 10:t+="封顶轮数10,";break;case 15:t+="封顶轮数15,";break;case 20:t+="封顶轮数20,"}switch(e.compareSuit&&(t+="比花色,"),e.twoThreeFiveBiger&&(t+="235吃豹子,"),e.a23Type){case 1:t+="A23地龙";break;case 0:t+="A23最大";break;case 2:t+="A23最小"}return WriteLog("playStr = "+t),t}function getRuleStrHd(e){if(!e||0==Object.keys(e).length)return"";var t="";switch(t+=this.checkCostType(e),e.joinermax){case 2:t+="2人,";break;case 4:t+="4人,"}switch(e.roundRule){case 61:t+="6局,";break;case 62:t+="12局,";break;case 63:t+="24局,";break;case 64:t+="1圈,";break;case 65:t+="2圈,";break;case 66:t+="4圈,"}return 0==e.piao?t+="不带漂,":1==e.piao&&(t+="带漂,"),0==e.isBigFan?t+="小番,":1==e.isBigFan&&(t+="大番,"),0==e.fenZhang?t+="不分张,":1==e.fenZhang&&(t+="分张,"),0==e.mobaoBuf?t+="不带摸宝加分":1==e.mobaoBuf&&(t+="带摸宝加分"),1==e.isLouDianPaoDouble&&(t+="搂点炮双倍"),WriteLog("playStr = "+t),t}function getRuleStrCC(e){if(!e||0==Object.keys(e).length)return"";var t="";switch(t+=this.checkCostType(e),e.joinermax){case 2:t+="2人,";break;case 4:t+="4人,"}if(1==e.roundType)switch(e.roundMax){case 4:t+="4局,";break;case 8:t+="8局,";break;case 16:t+="16局,"}else switch(e.roundMax){case 1:t+="1圈,";break;case 2:t+="2圈,";break;case 4:t+="4圈,"}return 1==e.dianPaoBaoFu&&(t+="点炮包三家,"),1==e.xiaoJiFeiDan&&(t+="小鸡飞蛋,"),1==e.xiaDanZhanLi&&(t+="下蛋算站立,"),1==e.queMen?t+="带缺门,":t+="三门齐,",1==e.duiBaoDouble&&(t+="对宝翻倍,"),1==e.qiDui&&(t+="带七对,"),t+="三风蛋,",0==e.anBao?t+="明宝":1==e.anBao&&(t+="暗宝"),WriteLog("playStr = "+t),t}function getRuleStrHongZhong(e){if(!e||0==Object.keys(e).length)return"";var t="";return t+=this.checkCostType(e),e.roundRule&&(1==e.roundRule?t+="4局":2==e.roundRule?t+="8局":3==e.roundRule&&(t+="16局")),t+=e.joinermax+"人",e.BuyM&&(2==e.BuyM?t+=",买2马":4==e.BuyM?t+=",买4马":6==e.BuyM&&(t+=",买6马")),e.times&&(1==e.times?t+=",底分1倍":2==e.times?t+=",底分2倍":5==e.times&&(t+=",底分5倍")),t}function getRoomRuleStr(e){if(null==require("gameDefine")||null==e||0==Object.keys(e).length)return"";var t="";return t+=this.checkCostType(e),e.roundRule&&(1==e.roundRule?t+="4局":2==e.roundRule?t+="8局":3==e.roundRule?t+="16局":4==e.roundRule?t+="1圈":5==e.roundRule?t+="2圈":6==e.roundRule&&(t+="4圈")),t+=e.joinermax+"人",e.times&&(1==e.times?t+=",底分1倍":2==e.times?t+=",底分2倍":5==e.times&&(t+=",底分5倍")),e.hd?t+=",带混吊":t+=",不带混吊",e.longwufan?t+=",龙五翻":t+=",不带龙五翻",0==e.huierModel?t+=",七个混儿":t+=",四个混儿",e.doubleGang&&(t+=",杠翻番"),e.feng?t+=",带风":t+=",不带风",1==e.lazhuang?t+=",坐二拉一":2==e.lazhuang?t+=",连庄拉庄":3==e.lazhuang&&(t+=",不坐不拉"),t}function checkRoomType(e){var t=require("gameDefine"),n="";if(null==e||null==t)return n;switch(e.roomType){case t.roomType.Room_Common:n+=" 普通房间";break;case t.roomType.Room_Club:n+=" 俱乐部房间";break;case t.roomType.Room_Contest:n+=" 比赛房间";break;case t.roomType.Room_Match:n+=" 匹配房间"}return n}function checkCostType(e){var t=require("gameDefine"),n="",a=0;if(null==e||null==t)return n;if(n+=checkRoomType(e),e.costType)if(e.costType==t.CostType.Cost_Creator)n+=",房主付费 ";else if(e.costType==t.CostType.Cost_AA)n+=",AA付费 ";else if(e.costType==t.CostType.Cost_Winner)n+=",赢家付费 ";else if(e.costType==t.CostType.Cost_Agent)n+=",代开房付费 ";else if(e.costType==t.CostType.Cost_Table){var r=0,o=0;switch(e.roomType){case t.roomType.Room_Common:case t.roomType.Room_Club:switch(e.gameType){case t.GameType.Game_Mj_Tianjin:case t.GameType.Game_Mj_Shishi:case t.GameType.Game_Mj_HZ:a=e.roundRule-1;break;case t.GameType.Game_Mj_CC:4==e.roundMax&&(a=0),8==e.roundMax&&(a=1),16==e.roundMax&&(a=2),1==e.roundMax&&(a=3),2==e.roundMax&&(a=4),4==e.roundMax&&(a=5);break;case t.GameType.Game_MJ_HuaDian:a=e.roundRule-61;break;case t.GameType.Game_Poker_DDZ:case t.GameType.Game_Poker_TianjinDDZ:6==e.roundMax&&(a=0),10==e.roundMax&&(a=1),20==e.roundMax&&(a=2);break;case t.GameType.Game_Poker_paodekuai:10==e.roundMax&&(a=0),20==e.roundMax&&(a=1),30==e.roundMax&&(a=2)}r=this.getCostTableFinal(e.gameType,a,e.joinermax,e.scorelv),o=this.getCoinEnterLimit(e.gameType,a,e.joinermax,e.scorelv);break;case t.roomType.Room_Contest:break;case t.roomType.Room_Match:r=this.getMatchCostTableFinal(e.gameType,e.scorelv),o=this.getMatchCoinEnterLimit(e.gameType,e.scorelv)}null==r&&(r=0),n+=",底分"+r+",进入条件:"+o+"+,"}return n}function getMatchSumLv(e){var t=require("configMgr");if(null!=t&&null!=e){var n=t.getServerConfig();if(null!=n){var a=n.matchCoin[e];if(null!=a)return a.sumLv}}}function getMatchCostTableFinal(e,t){var n=require("configMgr");if(null==n||null==e||null==t)return 0;var a=n.getServerConfig();if(null==a)return 0;var r=a.matchCoin[e];if(null==r)return 0;var o=r.cost[t];return cc.log("...match.final"+o),o}function getMatchShangZhuangFinal(e,t){var n=require("configMgr");if(null==n||null==e||null==t)return 0;var a=n.getServerConfig();if(null==a)return 0;var r=a.matchCoin[e];if(null==r)return 0;var o=r.zhuang[t];return cc.log("...match..zhuang.final"+o),o}function getMatchCoinEnterLimit(e,t){var n=require("configMgr");if(null==n||null==e||null==t)return 0;var a=n.getServerConfig();if(null==a)return 0;var r=a.matchCoin[e];if(null==r)return 0;var o=r.enter[t];return cc.log("...match.enter"+o),o}function getCostTableFinal(e,t,n,a){var r=require("configMgr");if(null==r||null==e||null==t||null==n||null==a)return 0;var o=r.getServerConfig();if(null==o)return 0;var c=o.roomCoin[e];if(null==c)return 0;var i=c[t].cost[n][a];return cc.log("...final"+i),i}function getCoinEnterLimit(e,t,n,a){var r=require("configMgr");if(null==r||null==e||null==t||null==n||null==a)return 0;var o=r.getServerConfig();if(null==o)return 0;var c=o.roomCoin[e];if(null==c)return 0;var i=c[t].enter[n][a];return cc.log("...enterFinal"+i),i}function getGameTypeNameString(e){var t=require("gameDefine"),n="";if(null==t)return n;switch(e){case t.GameType.Game_Mj_Tianjin:n="天津麻将";break;case t.GameType.Game_Mj_Shishi:n="石狮麻将";break;case t.GameType.Game_Poker_13shui:n="十三水";break;case t.GameType.Game_niu_niu:n="经典牛牛";break;case t.GameType.Game_MJ_HuaDian:n="桦甸麻将";break;case t.GameType.Game_TDK:n="填大坑";break;case t.GameType.Game_Poker_TianjinDDZ:n="天津斗地主";break;case t.GameType.Game_Mj_HZ:n="红中麻将";break;case t.GameType.Game_Mj_CC:n="长春麻将";break;case t.GameType.Game_Poker_paodekuai:n="跑得快";break;case t.GameType.Game_Mj_AS:n="鞍山麻将";break;case t.GameType.Game_Mj_Heb:n="哈尔滨麻将";break;case t.GameType.Game_Poker_ZJH:n="扎金花";break;case t.GameType.Game_Poker_DDZ:n="经典斗地主";break;case t.GameType.Game_Poker_HHDZ:n="红黑大战"}return n}function IsNeedSuccour(e,t){if(null==e||null==t)return!1;var n=this.getMatchCostTableFinal(e,t),a=this.getMatchCoinEnterLimit(e,t);return GameData.player.coin<n||GameData.player.coin<a}function checkSuccourGetTime(){if(null==GameData.player)return!0;var e=new Date,t=GameData.player.benefitTime.toString();return t=new Date(Date.parse(t.replace(/-/g,"/"))),0==this.ComparingDateInSameDay(e,t)?(cc.log("..date is false."),!1):!(GameData.player.benefitCount<2)||(cc.log("..count is false."),!1)}function checkOpenUISuccour(e,n){var t=require("gameDefine");if(null==t||null==e||null==n)return!1;if(this.IsNeedSuccour(e,n)){var a=null;switch(e){case t.GameType.Game_Mj_Tianjin:case t.GameType.Game_Mj_AS:case t.GameType.Game_Mj_Heb:case t.GameType.Game_MJ_HuaDian:case t.GameType.Game_Mj_HZ:case t.GameType.Game_Mj_CC:case t.GameType.Game_Poker_TianjinDDZ:case t.GameType.Game_Poker_DDZ:case t.GameType.Game_Poker_paodekuai:a="UIMJSuccour";break;case t.GameType.Game_TDK:case t.GameType.Game_Poker_ZJH:case t.GameType.Game_niu_niu:case t.GameType.Game_Niu_Niu_10:case t.GameType.Game_Niu_Hundred:case t.GameType.Game_Poker_HHDZ:a="UIPokerSuccour"}if(a&&0<a.length){"home"==cc.director.getScene().name&&(a="UIMJSuccour");return openView(a,void 0,function(e){if(e){var t=e.getComponent("UISuccour");t&&(0==checkSuccourGetTime()&&n<1?t.showUIPanel(!0):t.showUIPanel(!1))}}),!0}}return!1}function ConversionCoinValue(e,t){return 1e8<=e?Number(e/1e8).toFixed(t)+"亿":1e4<=e?Number(e/1e4).toFixed(t)+"万":e}function cloneObject(e){var t={};for(var n in e)t[n]=e[n];return t}function cloneArray(e,t){t.splice(0,t.length);for(var n=e.length,a=0;a<n;a++)if("object"==typeof e[a]){var r=cloneObject(e[a]);t.push(r)}else t.push(e[a])}function scheduleLamp(e){GameData.serverNoticeData&&(parseInt(Number(new Date)/1e3)<=parseInt(Number(new Date(GameData.serverNoticeData[0].lastTime)/1e3))&&e.schedule(this.lampHandler,1),1<GameData.serverNoticeData.length&&parseInt(Number(new Date)/1e3)<=parseInt(Number(new Date(GameData.serverNoticeData[1].lastTime)/1e3))&&e.schedule(lampHandler1,1))}function handlerServerNotice(){openView("RunlampPanel")}function lampHandler(){if(GameData.serverNoticeData&&GameData.serverNoticeData[0]){var e=parseInt(Number(new Date)/1e3);(parseInt(Number(new Date(GameData.serverNoticeData[0].lastTime)/1e3))-e)/(60*GameData.serverNoticeData[0].time)%1==0&&(cc.find("lampNode").getChildByName("RunlampPanel")||cc.find("lampNode").getChildByName("RunlampPanel1")?cc.log("~~~~~~~~~~~~~~~当前有条目正在播放，所以此条目不播放~~~~~~~~~~~~~~~~"):openView("RunlampPanel"))}}function lampHandler1(){if(GameData.serverNoticeData&&GameData.serverNoticeData[1]){var e=parseInt(Number(new Date)/1e3);(parseInt(Number(new Date(GameData.serverNoticeData[1].lastTime)/1e3))-e)/(60*GameData.serverNoticeData[1].time)%1==0&&(cc.find("lampNode").getChildByName("RunlampPanel")||cc.find("lampNode").getChildByName("RunlampPanel1")?cc.log("~~~~~~~~~~~~~~~当前有条目正在播放，所以此条目不播放~~~~~~~~~~~~~~~~"):openView("RunlampPanel1"))}}function arraySum(e){var t=e.length;return 0==t?0:1==t?e[0]:e[0]+arraySum(e.slice(1))}function spliceArrayElementOne(e,t){if(null==e)return e;for(var n=0;n<e.length;n++)if(e[n]==t){e.splice(n,1);break}return e}function ComparingDate(e,t){var n=new Date(e),a=new Date(t),r=n.getTime()-a.getTime();return!(r<0)&&0<r}function ComparingDateInSameDay(e,t){return!(1<Math.abs(e.getTime()-t.getTime())/864e5)}function OnWXLogin(e){"login"==cc.director.getScene().name&&require("loginHandler").OnWXLogin(e)}function OnWXFailed(){require("loginHandler").OnWXFailed()}function OnWXShareSuccess(){GameData.player.mission&&require("missionHandler").onShareSucess()}function OnIOSNetChanged(e){WriteLog("回调ios net changed status = "+e),GameNet.getInstance().setNetStatus(e)}function OnPasteboardChanged(e){WriteLog("JS OnPasteboardChanged"),"home"==cc.director.getScene().name&&sendEvent("OnPasteboardChanged")}function wxShareCommond(e){commondMessageBox(e,function(){textClipboard("【复制】这条信息后,打开游戏进入牌局。"+e),openWX()},function(){})}function openWX(){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","open_wx","()V"):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","open_wx")}function openWebView(e){cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org.cocos2dx.javascript.AppActivity","openWeb","(Ljava/lang/String;)V",e):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("AppController","openWeb",String(e))}function showSpineEffect(a,e,r){cc.loader.loadRes(e,sp.SkeletonData,function(e,t){var n=a.getComponent("sp.Skeleton");null!=n&&(n.skeletonData=t,n.animation=r,a.active=!0)})}