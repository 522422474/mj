var ClubHandler=function(){var e=null;return{getInstance:function(){return null==e&&(e={reqJoinClub:function(e){GameNet.getInstance().request("game.playerHandler.reqJoinClub",{club_id:e},function(e){var a=require("errorCode");e.result==a.ApplyJoinClubSuc?(GameData.player.clubApply=e.sendClubApplyData,sendEvent("refreshUIClubApply"),createMessageBox("申请成功，等待审批!",function(){})):e.result==a.ClubNotFound?createMessageBox("俱乐部不存在!",function(){}):e.result==a.HasJoinedClub?createMessageBox("您已经在该俱乐部!",function(){}):e.result==a.NoJoinThisClub?createMessageBox("抱歉!您不在该俱乐部.",function(){}):e.result==a.HasReqJoinClub&&createMessageBox("已经提交申请，请耐心等待审批！",function(){})})},doInvite:function(e,t){GameNet.getInstance().request("game.playerHandler.doInvite",{club_id:e,isAgree:t},function(e){var a=require("errorCode");if(e.result==a.Success){var n="";1==t?(GameData.player.club=e.sendClubData,sendEvent("refreshUIClubData"),GameData.player.clubInvite=e.sendClubInviteData,sendEvent("refreshUIClubInvite"),GameData.player.clubApply=e.sendClubApplyData,sendEvent("refreshUIClubApply"),n="成功"):(GameData.player.clubInvite=e.sendClubInviteData,sendEvent("refreshUIClubInvite"),GameData.player.clubApply=e.sendClubApplyData,sendEvent("refreshUIClubApply"),n="拒绝"),createMessageBox("已"+n+"加入该俱乐部.",function(){})}})},reqQuitClub:function(e,a){GameNet.getInstance().request("game.playerHandler.reqQuitClub",{uid:e,clubId:a},function(e){GameData.player.club=e.sendClubData,cc.log("sendClubData: "+JSON.stringify(e.sendClubData)),null==e.sendClubData&&(GameData.player.club=e.sendClubData),GameData.playerCurrClubId=null,sendEvent("refreshUIClubData")})},reqBindAgent:function(e,a){GameNet.getInstance().request("game.playerHandler.reqBindAgent",{uid:e,agentId:a},function(e){var a=require("errorCode");e.result==a.Success?(GameData.player.agentFlag=e.agentFlag,GameData.player.card+=e.num,createMessageBox("成功绑定代理，赠送您"+e.num+"房卡奖励!",function(){}),sendEvent("onPlayerUpdate"),sendEvent("closeAgentBind")):e.result==a.findAgentDBError&&createMessageBox("代理不存在",function(){})})}}),e}}}();