var GameData13=GameData13||{};function poker13RegistMsg(){GameNet.getInstance().setCallBack("13-ShowReadyUI",function(a){WriteLog("13-ShowReadyUI:"+JSON.stringify(a)),GameData13.readyInfo=a.readyInfo,sendEvent("13-ShowReadyUI",a)}),GameNet.getInstance().setCallBack("13-GameStart",function(a){WriteLog("13-GameStart:"+JSON.stringify(a)),GameData13.game.reday=!0,GameData13.game.start=!0,GameData13.game.roundNum=a.roundNum,GameData13.game.time=a.time,sendEvent("13-GameStart")}),GameNet.getInstance().setCallBack("13-RoomBaseInfo",function(a){for(var e in WriteLog("13-RoomBaseInfo:"+JSON.stringify(a)),GameData13.room=a.room,GameData13.owner=a.owner,GameData13.createtime=a.createtime,GameData13.game.roundNum=a.roundNum,GameData13.joiners.splice(0,GameData13.joiners.length),a.players){var t=a.players[e];GameData13.joiners.push(t)}GameData13.allScores=a.scores,sendEvent("13-RoomBaseInfo")}),GameNet.getInstance().setCallBack("13-PlayerCards",function(a){WriteLog("13-PlayerCards:"+JSON.stringify(a)),GameData13.player=a,sendEvent("13-PlayerCards")}),GameNet.getInstance().setCallBack("13-RoomResult",function(a){WriteLog("13-RoomResult:"+JSON.stringify(a)),GameData13.game.start=!0,GameData13.roomResult=a,GameData13.playerAllScore=a.score,sendEvent("13-RoomResult")}),GameNet.getInstance().setCallBack("13-GameEnd",function(a){WriteLog("13-GameEnd:"+JSON.stringify(a)),GameData13.gemaEndResult=a,sendEvent("13-GameEnd",a)}),GameNet.getInstance().setCallBack("13-Discard",function(a){WriteLog("13-Discard:"+JSON.stringify(a)),GameData13.disCardReady=a,GameData13.disCardPlayer.push(a.uid),sendEvent("13-Discard")}),GameNet.getInstance().setCallBack("13-SelfDiscard",function(a){WriteLog("13-SelfDiscard: "+JSON.stringify(a)),GameData13.playerConnect.disCard=a,sendEvent("13-SelfDiscard")}),GameNet.getInstance().setCallBack("13-DiscardInfo",function(a){WriteLog("13-DiscardInfo: "+JSON.stringify(a)),GameData13.playerConnect.disCardInfo=a.info,sendEvent("13-DiscardInfo")})}GameData13.init=function(){GameData13.initRoomData(),GameData13.initCreateRoomOpts(),poker13RegistMsg(),GameData13.isPlayVioce=!0,GameData13.handSize=13},GameData13.initRoomData=function(){GameData13.rtn={},GameData13.owner=0,GameData13.createtime=0,GameData13.room={},GameData13.scores={},GameData13.player={},GameData13.readyInfo={},GameData13.roomResult={},GameData13.disCardReady={},GameData13.disCardPlayer=[],GameData13.joiners=new Array,GameData13.roundResult=new Array,GameData13.playerAllScore={},GameData13.gemaEndResult={},GameData13.playerConnect={},GameData13.game={reday:!1,start:!1,roundNum:0,time:0}},GameData13.initCreateRoomOpts=function(){var a=cc.sys.localStorage.getItem("createRoomOpts-13shui");GameData13.createRoomOpts=null==a?{costType:0,payType:1,joinermax:0,limiteTime:0,roundmax:15,roundRule:1}:JSON.parse(a)},GameData13.getCardHand=function(a){return a==GameData13.player.uid?GameData13.player.cards:0},GameData13.getPosition=function(a){var e,t=GameData13.room.joinermax,r=0;if(a==GameData.player.uid)return r+1;for(var n=0;n<GameData13.joiners.length;n++)GameData13.joiners[n].uid==GameData.player.uid&&(e=GameData13.joiners[n].seat);for(n=0;n<GameData13.joiners.length;n++)if(GameData13.joiners[n].uid==a&&(r=GameData13.joiners[n].seat-e),r<0){r=t+r;break}return r+1},GameData13.getDisCardRow=function(a){return"up"==a?1:"mid"==a?2:"down"==a?3:0},GameData13.saveCreateRoomOpts=function(){null!=GameData13.createRoomOpts&&null!=GameData13.createRoomOpts&&(cc.log("saveCreateRoomOpts="+JSON.stringify(GameData13.createRoomOpts)),cc.sys.localStorage.setItem("createRoomOpts-13shui",JSON.stringify(GameData13.createRoomOpts)))},GameData13.getPlayerSexByUid=function(a){for(var e=0;e<GameData.joiners.length;++e)if(GameData.joiners[e]&&GameData.joiners[e].uid==a)return GameData.joiners[e].sex;return 1},GameData13.getJoinerByUid=function(a){for(var e=0;e<GameData13.joiners.length;e++)if(a==GameData13.joiners[e].uid)return GameData13.joiners[e];return null},GameData13.isEmptyObject=function(a){for(var e in a)return!1;return!0},GameData13.clearObject=function(a){for(var e in a)delete a[e];return!!GameData13.isEmptyObject(a)},GameData13.clearAllGameData=function(){GameData13.game.start=!1,GameData13.game.reday=!1,GameData13.game.roundNum=0,GameData13.game.time=0,GameData13.joiners.splice(0,GameData13.joiners.length),GameData13.disCardPlayer.splice(0,GameData13.disCardPlayer.length),GameData13.clearObject(GameData13.room),GameData13.clearObject(GameData13.player),GameData13.clearObject(GameData13.readyInfo),GameData13.clearObject(GameData13.roomResult),GameData13.clearObject(GameData13.disCardReady),GameData13.clearObject(GameData13.gemaEndResult),GameData13.clearObject(GameData13.playerConnect),GameData13.clearObject(GameData13.playerAllScore),GameData13.clearObject(GameData13.allScores)};